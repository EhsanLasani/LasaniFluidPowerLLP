/* =========================================================
   Global styles for Lasani LLP
   - Carbon + Tailwind base
   - Dark surface via Carbon <Theme theme="g100">
   - Overlay stacking fixes
   ========================================================= */

@import "@carbon/styles/css/styles.min.css";
@import "tailwindcss";

/* -----------------------------
   Theme variables (light base)
----------------------------- */
:root {
  --color-brand-primary: #2a7db1;
  --color-brand-secondary: #1e4e6e;
  --color-brand-accent: #b3d7ec;

  --color-text-primary: #1f2327;
  --color-text-secondary: #1f2937;

  --color-surface-base: #f9fafb;
  --color-surface-elevated: #ffffff;

  --color-border-subtle: rgba(15, 23, 42, 0.08);

  --shadow-elevation-md: 0 18px 38px -28px rgba(15, 23, 42, 0.35);
  --shadow-elevation-lg: 0 26px 60px -32px rgba(15, 23, 42, 0.35);

  /* Map Carbon tokens to brand */
  --cds-interactive-01: var(--color-brand-primary);
  --cds-interactive-02: var(--color-brand-secondary);
  --cds-interactive-03: var(--color-brand-primary);
  --cds-link-01: var(--color-brand-primary);
  --cds-link-02: var(--color-brand-secondary);
  --cds-field-hover: rgba(42, 125, 177, 0.08);
}

/* Optional Tailwind theme bindings */
@theme inline {
  --color-background: var(--color-surface-base);
  --color-foreground: var(--color-text-primary);
  --font-sans: var(--font-inter);
  --font-display: var(--font-manrope);
  --font-mono: var(--font-geist-mono);
}

/* -----------------------------
   Base tags
----------------------------- */
body {
  background: var(--color-surface-base);
  color: var(--color-text-primary);
  font-family: var(--font-inter), "Inter", "Segoe UI", Arial, sans-serif;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-manrope), "Manrope", "Segoe UI", Arial, sans-serif;
  color: inherit; /* theme/section defines actual color */
}

p { color: var(--color-text-secondary); }

/* -----------------------------
   Utilities / Components
----------------------------- */
.object-bottom-right { object-position: right bottom; }

.brand-card {
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border-subtle);
  box-shadow: var(--shadow-elevation-md);
  color: var(--color-text-primary);
  transition: transform 180ms ease, box-shadow 180ms ease;
}
.brand-card:hover { transform: translateY(-3px); box-shadow: var(--shadow-elevation-lg); }
.brand-card--flat { background: var(--color-surface-elevated); box-shadow: none; }
.brand-panel-gradient { background: var(--color-surface-elevated); }

.brand-link {
  color: var(--color-brand-primary);
  font-weight: 600;
  letter-spacing: 0.02em;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  transition: color 160ms ease, transform 160ms ease;
}
.brand-link:hover { color: var(--color-brand-secondary); }

/* Carbon buttons */
.cds--btn {
  border-radius: 0.75rem;
  font-family: var(--font-manrope), "Manrope", "Segoe UI", Arial, sans-serif;
  font-weight: 600;
}
.cds--btn.cds--btn--primary { background-color: var(--color-brand-primary); border-color: var(--color-brand-primary); color: #fff; }
.cds--btn.cds--btn--primary:hover { background-color: #236c97; border-color: #236c97; }
.cds--btn.cds--btn--ghost,
.cds--btn.cds--btn--secondary { border-color: var(--color-brand-secondary); color: var(--color-brand-secondary); }
.cds--btn.cds--btn--ghost:hover,
.cds--btn.cds--btn--secondary:hover { background-color: rgba(30, 78, 110, 0.1); color: var(--color-brand-secondary); }

/* -----------------------------
   Section surfaces
----------------------------- */
.section-surface {
  position: relative;
  isolation: isolate;          /* local stacking context */
  overflow: hidden;
  border-radius: 2.5rem;
  padding: clamp(2.25rem, 5vw, 3rem);
  background: linear-gradient(180deg, rgba(255,255,255,0.98) 0%, rgba(241,245,249,0.92) 100%);
  border: 1px solid rgba(148,163,184,0.16);
  box-shadow: 0 32px 50px -32px rgba(15,23,42,0.18);
  color: inherit;
}
.section-surface::before {
  content: "";
  position: absolute;
  inset: -1px;
  z-index: 0; /* under content */
  background: radial-gradient(
    circle at top left,
    rgba(59,130,246,0.08) 0%,
    rgba(14,116,144,0.05) 45%,
    rgba(255,255,255,0) 80%
  );
  opacity: 0.6;
  pointer-events: none;
}
.section-surface__inner { position: relative; z-index: 1; color: inherit; }

/* Hero tweaks (we provide our own bg, so hide the light veil) */
.hero-surface { padding: clamp(3rem, 6vw, 4.5rem); border-radius: 2.75rem; }
.hero-surface::before { display: none; }
.section-on-dark.section-surface::before { display: none; }
/* -----------------------------
   Carbon dark surface (<Theme theme="g100">)
----------------------------- */
[data-carbon-theme="g100"] {
  --color-text-primary: #ffffff;
  --color-text-secondary: rgba(255,255,255,.9);

  --color-surface-base: #0b1220;
  --color-surface-elevated: #111827;

  --color-border-subtle: rgba(255,255,255,.12);
  --color-brand-primary: #7dd3fc;

  /* Optional: apply dark bg to the Theme wrapper */
  background-color: var(--color-surface-base);
}


/* Dark sections look consistent and readable */
/* Dark look ONLY for sections explicitly marked .section-on-dark */
[data-carbon-theme="g100"] .section-on-dark.section-surface {
  background: radial-gradient(1200px 600px at 0% 0%, rgba(59,130,246,.12) 0%, rgba(14,116,144,.10) 28%, rgba(9,14,27,1) 65%);
  border-color: var(--color-border-subtle);
  color: #fff;
}
/* No milky overlay on dark */
[data-carbon-theme="g100"] .section-surface::before { display: none; }

/* Cards/tiles on dark */
[data-carbon-theme="g100"] .brand-card {
  background: linear-gradient(180deg, rgba(18,26,40,.92), rgba(12,16,25,.92));
  border-color: var(--color-border-subtle);
  box-shadow: 0 32px 58px -34px rgba(3,8,18,.75);
  color: #fff;
}
[data-carbon-theme="g100"] .brand-card p,
[data-carbon-theme="g100"] .brand-card li { color: var(--color-text-secondary); }

[data-carbon-theme="g100"] .brand-link { color: var(--color-brand-primary); }
[data-carbon-theme="g100"] .brand-link:hover { color: #bae6fd; }
/* Make hero typography theme-aware on Carbon dark surface */
[data-carbon-theme="g100"] .hero-surface h1,
[data-carbon-theme="g100"] .hero-surface h2,
[data-carbon-theme="g100"] .hero-surface h3,
[data-carbon-theme="g100"] .hero-surface h4,
[data-carbon-theme="g100"] .hero-surface h5,
[data-carbon-theme="g100"] .hero-surface h6 {
  color: #fff;
}
[data-carbon-theme="g100"] .hero-surface p {
  color: rgba(255,255,255,.9);
}
/* Fix: ensure dark sections and hero inside g100 show light text */
[data-carbon-theme="g100"] .section-on-dark,
[data-carbon-theme="g100"] .section-on-dark h1,
[data-carbon-theme="g100"] .section-on-dark h2,
[data-carbon-theme="g100"] .section-on-dark h3,
[data-carbon-theme="g100"] .section-on-dark h4,
[data-carbon-theme="g100"] .section-on-dark h5,
[data-carbon-theme="g100"] .section-on-dark h6,
[data-carbon-theme="g100"] .section-on-dark p,
[data-carbon-theme="g100"] .section-on-dark li,
[data-carbon-theme="g100"] .section-on-dark span {
  color: rgba(255,255,255,0.95) !important;
}
/* Theme-aware light text ONLY for dark sections under Carbon g100 */
[data-carbon-theme="g100"] .section-on-dark h1,
[data-carbon-theme="g100"] .section-on-dark h2,
[data-carbon-theme="g100"] .section-on-dark h3,
[data-carbon-theme="g100"] .section-on-dark h4,
[data-carbon-theme="g100"] .section-on-dark h5,
[data-carbon-theme="g100"] .section-on-dark h6 { color: #fff; }
